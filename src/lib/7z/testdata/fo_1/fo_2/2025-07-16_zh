这两个月我都是在做后端，前端的东西比较少。基本上就是两个吧，一个是“前进”、“后退”，另一个是“注册”。

前进后退是我之前就有的，现在就是跟浏览器的前进后退进行配合。比如我现在进行一些操作。然后呢，我就可以后退，前进，……。你可以按浏览器的前进后退按钮，像这样。能按浏览器的前进后退你就按鼠标，因为鼠标侧边一般都有“前进”、“后退”按钮，这样就非常方便了。这个完善我觉得还是很得意的。

然后最重要的就是注册。你看，它其实就是一些很基本的，但是挺琐碎的表单验证。它会告诉你，用户名不能是空，密码必须是八个字符以上，然后，我这里在随便输入一个重复密码，然后它就告诉你，这个和上面的密码不一样……就是做一些基本的检查。比如我现在输入一个用户名 "wang"，然后它这里有一个路径名，然后，密码八个字符，然后检查。检查好以后你看它其实要的就是这三个。然后我这里按一下，它就注册了。然后你就可以看到这个“路径名”是什么意思，它这里就变了。路径就变成了 "/wang"。后端的数据库，你看就刚刚注册了一个这个。然后，我现在再检查，它就会告诉你，路径名必须是唯一的，我刚刚已经注册了 "wang" 就不能再注册了，它就会告诉你。然后，你可以比如说，换一个 "wang_1"，你再检查，它就通过了。通过了以后你再注册，你看这里数据库，就又多一条数据了。就是这样一个注册的过程。这个其实挺简单的，但是挺琐碎的，就是一些基本的错误检查。

然后还有样式，暗色、亮色的，主要之前内容，这次也有一些小的完善。

然后呢，我这两天卡顿的地方，就是在，当你换了一个登录账号。它其实不是叫用户账号，它应该就是一个文件夹。等会儿我给你看，它其实后面就对应一个文件夹。所以每一个用户可以注册多个文件夹。它其实就是换了一批数据。你看，浏览器历史是这样的，"/wang_1", 再往前是 "/wang", 再是根路径 "/"。但是我刚刚说了，我这个历史它其实不是线性了。比如我这里分出一个子窗口，子窗口再分出一个子窗口，然后这个子窗口单独的前进后退，像这样，然后这个上半部的窗口也有前进后退，看到吗，它是这样的。所以它跟浏览器的前进后退不一样，浏览器的前进后退是一条线，所以呢，这样就会导致对不齐。如果你始终是一个账号，比如说你始终是 "wang"，那对不齐也没关系。但是，比如说，我现在全部退到最外层，然后后退，退到底，最外层退到底，就是没的退了，看到吗？但是它这里还有几个 "wang_1"，所以你再退就是空操作，对吧，是这样的。但是呢，你退到这里了，就换成前面一个账号，对吧。所以所有数据都变了。所以一定要对齐，尤其是对于账号切换的时候，因为你账号切换就换一批数据了嘛。所以一定要对齐……这个我还要再想想，怎么弄。这个还是挺绕的，其实并不复杂。

然后其它的么，就是一些基本的，之前的东西。我也是一直在不断地打磨、完善，但是都是一些小的东西，比如说……对吧。当前，它只有纵向滚动，它这是 wrap 模式，就是它会软回车，它没有横向滚动。然后如果我把它变成了非 wrap 模式，对吧，然后，你看，它这个就是有横向滚动，因为有些行超出了，它就会有横向滚动条。横向滚动就是揿着 shift 滚，一般地滚，它就是纵向滚。然后，我主要是想演示这个。就是你正常地滚是横向滚，你揿 shift 滚就是纵向滚，这就是横向排版和纵向排版的一些小的改进。

就是这样，在开发过程中不时有这样那样的小错误、小瑕疵，需要不断修正和完善。

我接下来要给每个 item 加一个 "Settings" 弹出窗口，它里面可以设定 wrap、非 wrap，横向、纵向，以及是 ltr 还是 rtl。然后，还有一个很重要的就是，每一个 item，它有创建时间、修改时间，还有一个 review 的时间，这些其实也是要可以调的，因为比如你要整理之前的东西，我之前的东西都加了时间戳的，所以呢，你加进来的时候，修改时间等等都可以自己调的。这些全部列出来，全部列在状态栏上，是列不下的。应该加一个按钮，然后弹出一个对话框，然后在那里面去设定。然后更重要的还有一个就是设定它是不是 public。每一个账户不是有一个网址吗，你可以把某些内容公开出来，然后别人进入这个网址，就可以看到 public 的内容。当然你还可以设定某个人可见，如果你知道它的用户名。其实这些都不难，基本的框架已经出来，表单、弹出窗口、按钮等等，再按需加就可以了。

其实这段时间我做的最主要的是后端的东西。我刚刚给你看的数据库，我这个是开发阶段，是本地的数据库。真正发布出来，它取数据是取到哪里？是取到这里。我给你看一下啊，就是这里的数据库。你看，它这个跟本地是一模一样的。你看，这个是开发用的。这个是测试用的，就是自动测试，就是说，你每次测的时候你要把这个数据全部删光，然后自动地设定一些登录数据，Session 数据等，每次都是新的，然后你再测它返回的数据是不是对，是不是你要的，它就是个专门用于测试的数据库。然后呢，最终产品上线之后，用户数据就存到这儿。

这个就是数据库。数据库存的是用户的用户名啊，密码，还那个路径名，之后还有 Email 这些数据。然后真正赚钱的是这儿，存的是一些视频啊，图片、PDF等。我卖的就是存储空间，就都存在这儿。然后呢，你可以看到，这就是开发用的 Bucket，这是自动测试用的 Bucket，正式的就是这个 Bucket。你可以看到，我这个结构已经改进了，就是以用户 id 作为文件夹名，这个用户的所有内容都存在这个文件夹中，这样用户就可以修改用户名和路径名。在哪里设定？就在 "Settings" 这里，这也是我接下来要加的一个对话框。

然后，我顺便说一下，就是基本上现在是这样的，每一个用户免费的是 200MB。我之前说是 20GB，这太夸张了。然后呢，我之前说，10 USD 20GB 每月，我后来想了一下，为什么不 0.1 USD 200MB 每月，其实是一样的，但好得多。这已经是非常诱人的价格了。然后，就是如果你一年一年地付呢，就是按十个月，就是一个优惠的价格。所以这是一个基本的设定，我觉得还是挺不错的。

还有一个，就是后端最花时间的，就是 Email。我使用 AWS 的 SES 的服务。为了验证用户注册的邮箱，我需要配置始终和 AWS 的 SES 的服务保持连接。你可以看到这里，我每 30 分钟连接一次 SES 以避免会话过期。这个配置非常复杂，我花了很长的时间。你可以看到，现在运行一切正常，0 错误。

接下来，我要完成的是移动设备的自动测试；然后是 Markdown。在过程中该需添加所需部件。


